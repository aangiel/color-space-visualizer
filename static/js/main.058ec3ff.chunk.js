(this.webpackJsonpproto=this.webpackJsonpproto||[]).push([[0],{56:function(e,t,a){e.exports=a(65)},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),i=a.n(o),s=a(90),c=a(47),l=a.n(c),u=a(11),d=a(2),h=a(91),f=a(92),p=a(88),m=a(46),b=a(35),v=a(22),g=a(23),k=a(44),w=a(27),y=a(24),S=a(25),O=a(5),j=a(45),C=a.n(j),E=function(e,t,a){return"#"+R(e)+R(t)+R(a)},M=function(e,t,a){var n,r,o,i=a-t;return e<0||e>=360?(n=0,r=0,o=0):e<60?(n=a,r=i+(a-i)*e/60,o=i):e<120?(n=i+(a-i)*(120-e)/60,r=a,o=i):e<180?(n=i,r=a,o=i+(a-i)*(e-120)/60):e<240?(n=i,r=i+(a-i)*(240-e)/60,o=a):e<300?(n=i+(a-i)*(e-240)/60,r=i,o=a):e<360&&(n=a,r=i,o=i+(a-i)*(360-e)/60),n=x(n),r=x(r),o=x(o),E(n,r,o)},R=function(e){return e<16?"0"+e.toString(16):e.toString(16)},x=function(e){return Math.floor(255*e/100)},P=function(e,t,a,n,r){var o=new O.CubeGeometry(e,e,e),i=new O.MeshPhongMaterial({color:t}),s=new O.Mesh(o,i);return s.castShadow=!0,s.receiveShadow=!0,s.position.set(a,n,r),s.name="CUBES",s},G=[0,80,0],B=function(e,t,a){return E(32*e,32*t,32*a)},L=function(e,t,a){return[3*(e+1)+8*e-40+G[0],3*(t+1)+8*t-40+G[1],3*(a+1)+8*a-40+G[2]]},H=function(e,t,a){var n=e*Math.PI/180,r=60*t/100;return[Math.cos(n)*r,a/100*140- -10,Math.sin(n)*r]},F=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(w.a)(this,Object(y.a)(t).call(this,e))).divRef=r.a.createRef(),a.rendererRender=function(){},a.selectedCube=null,a.currentSpin=0,a.attrs={width:800,height:800,color:3158064,fov:60,near:1,far:1e4,cameraPosition:[240,240,200],cameraLookAt:[0,50,0],lights:{ambient:[16777215,1],point:{castShadow:!0,config:[16777215,1,500],position:[0,300,0]}}},a}return Object(S.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.innerWidth,a=window.innerHeight,n=this.makeRenderer(t,a);n.shadowMap.enabled=!0;var r=this.makeCamera(t,a);this.scene=this.makeScene();var o=this.makeOrbitControls(r,n.domElement);this.rendererRender=function(){n.render(e.scene,r)};var i=this.makeCallbackFunc(this.scene,r);n.domElement.addEventListener("click",i),n.domElement.addEventListener("touchstart",i),this.divRef.current.appendChild(n.domElement),this.updateCubes(this.props.model);!function t(){o.update(),e.selectedCube&&(e.selectedCube.rotation.x+=e.currentSpin,e.selectedCube.rotation.y+=e.currentSpin,e.currentSpin>.1?e.currentSpin*=.9:Math.abs(e.selectedCube.rotation.y%(Math.PI/2))<.09&&(e.currentSpin=0,e.selectedCube.rotation.set(0,0,0))),e.rendererRender(),requestAnimationFrame(t)}()}},{key:"makeRenderer",value:function(e,t){var a=new O.WebGLRenderer({antialias:!0});return a.setSize(e,t),a.setClearColor(this.attrs.color,1),a.setPixelRatio(window.devicePixelRatio),a}},{key:"makeCamera",value:function(e,t){var a,n=e/t,r=new O.PerspectiveCamera(this.attrs.fov,n,this.attrs.near,this.far);return(a=r.position).set.apply(a,Object(v.a)(this.attrs.cameraPosition)),r}},{key:"makeScene",value:function(){var e=new O.Scene;if(this.attrs.lights.ambient){var t=Object(b.a)(O.AmbientLight,Object(v.a)(this.attrs.lights.ambient));e.add(t)}if(this.attrs.lights.point){var a,n=Object(b.a)(O.PointLight,Object(v.a)(this.attrs.lights.point.config));(a=n.position).set.apply(a,Object(v.a)(this.attrs.lights.point.position)),n.castShadow=this.attrs.lights.point.castShadow,e.add(n)}var r=new O.Mesh(new O.PlaneGeometry(1200,1200,2),new O.MeshStandardMaterial({color:4210752,side:O.DoubleSide,transparent:!0,opacity:.85}));r.position.set(0,-1,0),r.rotation.set(Math.PI/2,0,0),r.castShadow=!1,r.receiveShadow=!0,e.add(r);return e.add(new O.GridHelper(1200,60,6316128,6316128)),e}},{key:"addMeshes",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;this.scene.add(i)}}catch(s){a=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}},{key:"makeOrbitControls",value:function(e,t){var a=new C.a(e,t);return a.target=Object(b.a)(O.Vector3,Object(v.a)(this.attrs.cameraLookAt)),a.enableDamping=!0,a.dampingFactor=.1,a}},{key:"makeCallbackFunc",value:function(e,t){var a=this;return function(n){var r=function(e,t,a){var n=new O.Raycaster;e.preventDefault();var r=e.currentTarget,o=function(e,t){return e.type.startsWith("touch")?[e.targetTouches[0].pageX-t.offsetLeft,e.targetTouches[0].pageY-t.offsetTop]:[e.clientX-t.offsetLeft,e.clientY-t.offsetTop]}(e,r),i=Object(u.a)(o,2),s=i[0],c=i[1],l={x:s/r.offsetWidth*2-1,y:-c/r.offsetHeight*2+1};n.setFromCamera(l,a);var d=t.children,h=n.intersectObjects(d);if(h.length>0){var f=h[0].object;if("CUBES"===f.name)return f}return null}(n,e,t);if(r){a.selectedCube=r,a.currentSpin=1;var o=r.material.color.getHexString();a.props.onSelectColor("#".concat(o))}}}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.model!==e.model&&this.updateCubes(e.model),!1}},{key:"updateCubes",value:function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=this.scene.children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=r.value;"CUBES"===i.name&&this.scene.remove(i)}}catch(s){a=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}"RGB"===e?this.addMeshes(function(){for(var e=[],t=0;t<8;t++)for(var a=0;a<8;a++)for(var n=0;n<8;n++){var r=B(t,a,n),o=L(t,a,n),i=Object(u.a)(o,3),s=i[0],c=i[1],l=i[2],d=P(3,r,s,c,l);e.push(d)}return e}()):this.addMeshes(function(){for(var e=[],t=0;t<=7;t++)for(var a=t/7*100,n=0;n<=t;n++)for(var r=n/7*100,o=Math.max(6*n,1),i=0;i<o;i++){var s=360/o*i,c=M(s,r,a),l=H(s,r,a),d=Object(u.a)(l,3),h=d[0],f=d[1],p=d[2],m=P(3,c,h,f,p);e.push(m)}return e}()),this.rendererRender()}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.divRef})}}]),t}(r.a.Component),T=1,A=2,D=2,I=48,N=56,U=64,V=function(e,t){return{top:e.spacing(t),left:e.spacing(t)}},W=function(e){return{height:e}},J=function(e,t){return{bottom:e.spacing(t),left:e.spacing(t)}},X=Object(m.a)((function(e){var t,a,n;return{header:(t={position:"absolute",flexGrow:1,display:"flex"},Object(d.a)(t,e.breakpoints.down("sm"),V(e,T)),Object(d.a)(t,e.breakpoints.up("sm"),V(e,A)),Object(d.a)(t,e.breakpoints.up("lg"),V(e,D)),t),logo:(a={},Object(d.a)(a,e.breakpoints.down("sm"),W(I)),Object(d.a)(a,e.breakpoints.up("sm"),W(N)),Object(d.a)(a,e.breakpoints.up("lg"),W(U)),a),buttons:(n={position:"absolute"},Object(d.a)(n,e.breakpoints.down("sm"),J(e,T)),Object(d.a)(n,e.breakpoints.up("sm"),J(e,A)),Object(d.a)(n,e.breakpoints.up("lg"),J(e,D)),n),colorPreview:{position:"absolute",width:"100px",height:"100px",bottom:e.spacing(2),right:e.spacing(2)}}})),Y=function(e){var t=X(),a=Object(n.useState)("RGB"),o=Object(u.a)(a,2),i=o[0],s=o[1],c=Object(n.useState)("#fff"),l=Object(u.a)(c,2),d=l[0],m=l[1],b=function(e){return i===e?"contained":"outlined"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.header},r.a.createElement("img",{className:t.logo,src:"logo_20_02.png",alt:"logo"})),r.a.createElement(F,{model:i,onSelectColor:function(e){m(e)}}),r.a.createElement(p.a,{className:t.buttons,orientation:"vertical",color:"secondary","aria-label":"vertical outlined primary button group"},r.a.createElement(f.a,{variant:b("RGB"),onClick:function(e){s("RGB")}},"RGB"),r.a.createElement(f.a,{variant:b("HSV"),onClick:function(e){s("HSV")}},"HSV")),r.a.createElement(h.a,{className:t.colorPreview,style:{backgroundColor:d},"aria-label":"selected color"}))},_=a(36),q=a(37),z=a(48),K=Object(z.a)({palette:{primary:_.a,secondary:q.a,background:{default:"#fff"}}});i.a.render(r.a.createElement(l.a,{theme:K},r.a.createElement(s.a,null),r.a.createElement(Y,null)),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.058ec3ff.chunk.js.map