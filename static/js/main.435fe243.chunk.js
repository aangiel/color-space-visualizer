(this.webpackJsonpproto=this.webpackJsonpproto||[]).push([[0],{56:function(e,t,a){e.exports=a(65)},65:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(17),i=a.n(o),s=a(90),c=a(47),u=a.n(c),l=a(13),h=a(91),d=a(92),f=a(88),p=a(2),v=a(44),b=1,m=2,g=2,y=48,k=56,w=64,C=function(e,t){return{top:e.spacing(t),left:e.spacing(t)}},O=function(e){return{height:e}},S=function(e,t){return{bottom:e.spacing(t),left:e.spacing(t)}},j=Object(v.a)((function(e){var t,a,r;return{header:(t={position:"absolute",flexGrow:1,display:"flex"},Object(p.a)(t,e.breakpoints.down("sm"),C(e,b)),Object(p.a)(t,e.breakpoints.up("sm"),C(e,m)),Object(p.a)(t,e.breakpoints.up("lg"),C(e,g)),t),logo:(a={},Object(p.a)(a,e.breakpoints.down("sm"),O(y)),Object(p.a)(a,e.breakpoints.up("sm"),O(k)),Object(p.a)(a,e.breakpoints.up("lg"),O(w)),a),buttons:(r={position:"absolute"},Object(p.a)(r,e.breakpoints.down("sm"),S(e,b)),Object(p.a)(r,e.breakpoints.up("sm"),S(e,m)),Object(p.a)(r,e.breakpoints.up("lg"),S(e,g)),r),colorPreview:{position:"absolute",width:"100px",height:"100px",bottom:e.spacing(2),right:e.spacing(2)}}})),E=a(37),R=a(16),x=a(24),M=a(45),G=a(27),L=a(25),P=a(26),B=a(5),D=a(46),T=a.n(D),H=function(e,t,a){return e*Math.pow(256,2)+256*t+a},V=function(e,t,a){var r,n,o,i=a-t;return e<0||e>=360?(r=0,n=0,o=0):e<60?(r=a,n=i+(a-i)*e/60,o=i):e<120?(r=i+(a-i)*(120-e)/60,n=a,o=i):e<180?(r=i,n=a,o=i+(a-i)*(e-120)/60):e<240?(r=i,n=i+(a-i)*(240-e)/60,o=a):e<300?(r=i+(a-i)*(e-240)/60,n=i,o=a):e<360&&(r=a,n=i,o=i+(a-i)*(360-e)/60),r=A(r),n=A(n),o=A(o),H(r,n,o)},A=function(e){return Math.floor(255*e/100)},F=function(e,t,a,r,n){var o=new B.CubeGeometry(e,e,e),i=new B.MeshPhongMaterial({color:t}),s=new B.Mesh(o,i);return s.castShadow=!0,s.receiveShadow=!0,s.material.transparent=!0,s.position.set(a,r,n),s.name="COLOR_CUBE",s},I=[0,80,0],N=function(e,t){return e.userData.RGB.color>t.userData.RGB.color?1:e.userData.RGB.color<t.userData.RGB.color?-1:0},_=function(e,t,a){return H(32*e,32*t,32*a)},U=function(e,t,a){return[3*(e+1)+8*e-40+I[0],3*(t+1)+8*t-40+I[1],3*(a+1)+8*a-40+I[2]]},W=function(e,t){return e.color>t.color?1:e.color<t.color?-1:0},X=function(e,t,a){var r=e*Math.PI/180,n=60*t/100;return[Math.cos(r)*n,a/100*140- -10,Math.sin(r)*n]},Y=function(e){var t,a,r=e.currentTarget;return"touchstart"===e.type||"touchend"===e.type?e.targetTouches&&e.targetTouches.length?(t=e.targetTouches[0].pageX-r.offsetLeft,a=e.targetTouches[0].pageY-r.offsetTop):(t=e.changedTouches[0].pageX-r.offsetLeft,a=e.changedTouches[0].pageY-r.offsetTop):(t=e.clientX-r.offsetLeft,a=e.clientY-r.offsetTop),{x:t/r.offsetWidth*2-1,y:-a/r.offsetHeight*2+1}},J=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(G.a)(this,Object(L.a)(t).call(this,e))).divRef=n.a.createRef(),a.rendererRender=function(){},a.selectedCube=null,a.currentSpin=0,a.cubes=null,a.attrs={width:800,height:800,color:3158064,fov:60,near:1,far:1e4,cameraPosition:[240,240,200],cameraLookAt:[0,50,0],lights:{ambient:[16777215,1],point:{castShadow:!0,config:[16777215,1,500],position:[0,300,0]}}},a}return Object(P.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.innerWidth,a=window.innerHeight,r=this.makeRenderer(t,a);r.shadowMap.enabled=!0;var n=this.makeCamera(t,a);this.scene=this.makeScene();var o=this.makeOrbitControls(n,r.domElement);this.rendererRender=function(){r.render(e.scene,n)};var i=this.makeEventStart(),s=this.makeEventEnd(this.scene,n);r.domElement.addEventListener("mousedown",i),r.domElement.addEventListener("touchstart",i),r.domElement.addEventListener("mouseup",s),r.domElement.addEventListener("touchend",s),this.createCubes(),this.divRef.current.appendChild(r.domElement);!function t(){o.update(),e.selectedCube&&e.currentSpin&&(e.selectedCube.rotation.x+=e.currentSpin,e.selectedCube.rotation.y+=e.currentSpin,e.currentSpin>.1?e.currentSpin*=.93:Math.abs(e.selectedCube.rotation.y%(Math.PI/2))<.09&&(e.currentSpin=0,e.selectedCube.rotation.set(0,0,0),e.unhighlightCubes())),e.rendererRender(),requestAnimationFrame(t)}()}},{key:"makeRenderer",value:function(e,t){var a=new B.WebGLRenderer({antialias:!0});return a.setSize(e,t),a.setClearColor(this.attrs.color,1),a.setPixelRatio(window.devicePixelRatio),a}},{key:"makeCamera",value:function(e,t){var a,r=e/t,n=new B.PerspectiveCamera(this.attrs.fov,r,this.attrs.near,this.far);return(a=n.position).set.apply(a,Object(R.a)(this.attrs.cameraPosition)),n}},{key:"makeScene",value:function(){var e=new B.Scene;if(this.attrs.lights.ambient){var t=Object(E.a)(B.AmbientLight,Object(R.a)(this.attrs.lights.ambient));e.add(t)}if(this.attrs.lights.point){var a,r=Object(E.a)(B.PointLight,Object(R.a)(this.attrs.lights.point.config));(a=r.position).set.apply(a,Object(R.a)(this.attrs.lights.point.position)),r.castShadow=this.attrs.lights.point.castShadow,e.add(r)}var n=new B.Mesh(new B.PlaneGeometry(1200,1200,2),new B.MeshStandardMaterial({color:4210752,side:B.DoubleSide,transparent:!0,opacity:.85}));n.position.set(0,-1,0),n.rotation.set(Math.PI/2,0,0),n.castShadow=!1,n.receiveShadow=!0,e.add(n);return e.add(new B.GridHelper(1200,60,6316128,6316128)),e}},{key:"createCubes",value:function(){this.cubes=function(){for(var e=[],t=0;t<8;t++)for(var a=0;a<8;a++)for(var r=0;r<8;r++){var n=_(t,a,r),o=U(t,a,r),i=Object(l.a)(o,3),s=i[0],c=i[1],u=i[2],h=F(3,n,s,c,u);h.userData.RGB={color:n,position:[s,c,u]},e.push(h)}return e.sort(N),e}(),function(e){for(var t=[],a=0;a<=7;a++)for(var r=a/7*100,n=0;n<=a;n++)for(var o=n/7*100,i=Math.max(6*n,1),s=0;s<i;s++){var c=360/i*s,u=V(c,o,r),h=X(c,o,r),d=Object(l.a)(h,3),f=d[0],p=d[1],v=d[2];t.push({color:u,position:[f,p,v]})}t.sort(W);for(var b=0;b<e.length;b++){e[b].userData.HSV=t[b]}}(this.cubes);var e=!0,t=!1,a=void 0;try{for(var r,n=this.cubes[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){var o=r.value;this.scene.add(o)}}catch(i){t=!0,a=i}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}}},{key:"highlightCubes",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.cubes[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){r.value.material.opacity=.2}}catch(o){t=!0,a=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}this.selectedCube.material.opacity=1}},{key:"unhighlightCubes",value:function(){var e=!0,t=!1,a=void 0;try{for(var r,n=this.cubes[Symbol.iterator]();!(e=(r=n.next()).done);e=!0){r.value.material.opacity=1}}catch(o){t=!0,a=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}}},{key:"makeOrbitControls",value:function(e,t){var a=new T.a(e,t);return a.target=Object(E.a)(B.Vector3,Object(R.a)(this.attrs.cameraLookAt)),a.enableDamping=!0,a.dampingFactor=.1,a}},{key:"makeEventStart",value:function(){var e=this;return function(t){e.evtCoords=Y(t)}}},{key:"makeEventEnd",value:function(e,t){var a=this;return function(r){var n=Y(r);if(n.x===a.evtCoords.x&&n.y===a.evtCoords.y){var o=function(e,t,a){var r=new B.Raycaster;e.preventDefault();var n=Y(e);r.setFromCamera(n,a);var o=t.children,i=r.intersectObjects(o);if(i.length>0){var s=i[0].object;if("COLOR_CUBE"===s.name)return s}return null}(r,e,t);if(o){a.selectedCube=o,a.currentSpin=1;var i=a.selectedCube.material.color.getHexString();a.highlightCubes(),a.props.onSelectColor("#".concat(i))}}}}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.model!==e.model&&this.updateCubes(e.model),!1}},{key:"updateCubes",value:function(e){var t=!0,a=!1,r=void 0;try{for(var n,o=this.cubes[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i,s=n.value,c=s.userData[e];(i=s.position).set.apply(i,Object(R.a)(c.position)),s.material.color.setHex(c.color)}}catch(u){a=!0,r=u}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}}},{key:"render",value:function(){return n.a.createElement("div",{ref:this.divRef})}}]),t}(n.a.Component),q=function(e){var t=j(),a=Object(r.useState)("RGB"),o=Object(l.a)(a,2),i=o[0],s=o[1],c=Object(r.useState)("#fff"),u=Object(l.a)(c,2),p=u[0],v=u[1],b=function(e){return i===e?"contained":"outlined"};return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:t.header},n.a.createElement("img",{className:t.logo,src:"logo_20_02.png",alt:"logo"})),n.a.createElement(J,{model:i,onSelectColor:function(e){v(e)}}),n.a.createElement(f.a,{className:t.buttons,orientation:"vertical",color:"secondary","aria-label":"vertical outlined primary button group"},n.a.createElement(d.a,{variant:b("RGB"),onClick:function(e){s("RGB")}},"RGB"),n.a.createElement(d.a,{variant:b("HSV"),onClick:function(e){s("HSV")}},"HSV")),n.a.createElement(h.a,{className:t.colorPreview,style:{backgroundColor:p},"aria-label":"selected color"}))},z=a(35),K=a(36),Q=a(48),Z=Object(Q.a)({palette:{primary:z.a,secondary:K.a,background:{default:"#fff"}}});i.a.render(n.a.createElement(u.a,{theme:Z},n.a.createElement(s.a,null),n.a.createElement(q,null)),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.435fe243.chunk.js.map