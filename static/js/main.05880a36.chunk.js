(this.webpackJsonpproto=this.webpackJsonpproto||[]).push([[0],{55:function(e,t,r){e.exports=r(64)},64:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(16),i=r.n(o),s=r(87),c=r(46),l=r.n(c),u=r(12),h=r(85),d=r(88),f=r(86),p=r(2),v=r(43),m=1,b=2,g=2,y=48,w=56,C=64,k=function(e,t){return{top:e.spacing(t),left:e.spacing(t)}},O=function(e){return{height:e}},S=function(e,t){return{bottom:e.spacing(t),right:e.spacing(t)}},j=Object(v.a)((function(e){var t,r,a;return{wrapper:{backgroundColor:"#262626"},container:{position:"relative",padding:0,borderRight:"1px solid #f50057",borderLeft:"1px solid #f50057"},header:(t={position:"absolute",flexGrow:1,display:"flex"},Object(p.a)(t,e.breakpoints.down("sm"),k(e,m)),Object(p.a)(t,e.breakpoints.up("sm"),k(e,b)),Object(p.a)(t,e.breakpoints.up("lg"),k(e,g)),t),logo:(r={},Object(p.a)(r,e.breakpoints.down("sm"),O(y)),Object(p.a)(r,e.breakpoints.up("sm"),O(w)),Object(p.a)(r,e.breakpoints.up("lg"),O(C)),r),controlButtons:(a={position:"absolute",display:"flex",flexDirection:"column",alignItems:"flex-end"},Object(p.a)(a,e.breakpoints.down("sm"),S(e,m)),Object(p.a)(a,e.breakpoints.up("sm"),S(e,b)),Object(p.a)(a,e.breakpoints.up("lg"),S(e,g)),a),colorPreview:{marginBottom:16,width:127,height:60}}})),E=r(37),R=r(15),x=r(22),M=r(44),B=r(25),P=r(23),G=r(24),L=r(6),D=r(45),T=r.n(D),H=function(e,t,r){return e*Math.pow(256,2)+256*t+r},I=function(e){var t=function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},r=.2126*t(parseInt(e.slice(1,3),16))+.7152*t(parseInt(e.slice(3,5),16))+.0722*t(parseInt(e.slice(5,7),16));return 1.05/(r+.05)<(r+.05)/.05?"#000000":"#ffffff"},N=function(e,t,r){var a,n,o,i=r-t;return e<0||e>=360?(a=0,n=0,o=0):e<60?(a=r,n=i+(r-i)*e/60,o=i):e<120?(a=i+(r-i)*(120-e)/60,n=r,o=i):e<180?(a=i,n=r,o=i+(r-i)*(e-120)/60):e<240?(a=i,n=i+(r-i)*(240-e)/60,o=r):e<300?(a=i+(r-i)*(e-240)/60,n=i,o=r):e<360&&(a=r,n=i,o=i+(r-i)*(360-e)/60),a=V(a),n=V(n),o=V(o),H(a,n,o)},V=function(e){var t=Math.floor(255*e/100);return t<0?255-t:t},A=function(e,t,r,a,n){var o=new L.CubeGeometry(e,e,e),i=new L.MeshPhongMaterial({color:t}),s=new L.Mesh(o,i);return s.castShadow=!0,s.receiveShadow=!0,s.material.transparent=!0,s.position.set(r,a,n),s.name="COLOR_CUBE",s},W=[0,80,0],_=function(e,t){return e.userData.RGB.color>t.userData.RGB.color?1:e.userData.RGB.color<t.userData.RGB.color?-1:0},F=function(e,t,r){return H(Math.round(e*(255/7)),Math.round(t*(255/7)),Math.round(r*(255/7)))},U=function(e,t,r){return[3*(e+1)+8*e-40+W[0],3*(t+1)+8*t-40+W[1],3*(r+1)+8*r-40+W[2]]},X=function(e,t){return e.color>t.color?1:e.color<t.color?-1:0},Y=function(e,t,r){var a=e*Math.PI/180,n=60*t/100;return[Math.cos(a)*n,r/100*140- -10,Math.sin(a)*n]},J=function(e){var t,r,a=e.currentTarget;return e.targetTouches&&e.targetTouches.length?(t=e.targetTouches[0].pageX,r=e.targetTouches[0].pageY):e.changedTouches&&e.changedTouches.length?(t=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY):(t=e.clientX,r=e.clientY),t-=a.offsetParent.offsetLeft,r-=a.offsetParent.offsetTop,{x:t/a.offsetWidth*2-1,y:-r/a.offsetHeight*2+1}},q=function(e){function t(e){var r;return Object(x.a)(this,t),(r=Object(B.a)(this,Object(P.a)(t).call(this,e))).divRef=n.a.createRef(),r.rendererRender=function(){},r.selectedCube=null,r.currentSpin=0,r.cubes=null,r.attrs={width:800,height:800,color:3158064,fov:60,near:1,far:1e4,cameraPosition:[240,240,200],cameraLookAt:[0,50,0],lights:{ambient:[16777215,1],point:{castShadow:!0,config:[16777215,1,500],position:[0,300,0]}}},r}return Object(G.a)(t,e),Object(M.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.divRef.current.parentNode.offsetWidth-2,r=window.innerHeight,a=this.makeRenderer(t,r);a.shadowMap.enabled=!0;var n=this.makeCamera(t,r);this.scene=this.makeScene();var o=this.makeOrbitControls(n,a.domElement);this.rendererRender=function(){a.render(e.scene,n)};var i=this.makeEventStart(),s=this.makeEventEnd(this.scene,n);a.domElement.addEventListener("mousedown",i),a.domElement.addEventListener("touchstart",i),a.domElement.addEventListener("mouseup",s),a.domElement.addEventListener("touchend",s),this.createCubes(),this.divRef.current.appendChild(a.domElement);!function t(){o.update(),e.spinSelectedCube(),e.rendererRender(),requestAnimationFrame(t)}()}},{key:"spinSelectedCube",value:function(){this.selectedCube.rotation.x+=this.currentSpin,this.selectedCube.rotation.y+=this.currentSpin,this.currentSpin>.1?this.currentSpin*=.93:Math.abs(this.selectedCube.rotation.y%(Math.PI/2))<.09&&(this.currentSpin=0,this.selectedCube.rotation.set(0,0,0),this.props.previewing||this.unhighlightCubes())}},{key:"makeRenderer",value:function(e,t){var r=new L.WebGLRenderer({antialias:!0});return r.setSize(e,t),r.setClearColor(this.attrs.color,1),r.setPixelRatio(window.devicePixelRatio),r}},{key:"makeCamera",value:function(e,t){var r,a=e/t,n=new L.PerspectiveCamera(this.attrs.fov,a,this.attrs.near,this.far);return(r=n.position).set.apply(r,Object(R.a)(this.attrs.cameraPosition)),n}},{key:"makeScene",value:function(){var e=new L.Scene;if(this.attrs.lights.ambient){var t=Object(E.a)(L.AmbientLight,Object(R.a)(this.attrs.lights.ambient));e.add(t)}if(this.attrs.lights.point){var r,a=Object(E.a)(L.PointLight,Object(R.a)(this.attrs.lights.point.config));(r=a.position).set.apply(r,Object(R.a)(this.attrs.lights.point.position)),a.castShadow=this.attrs.lights.point.castShadow,e.add(a)}var n=new L.Mesh(new L.PlaneGeometry(1200,1200,2),new L.MeshStandardMaterial({color:4210752,side:L.DoubleSide,transparent:!0,opacity:.85}));n.position.set(0,-1,0),n.rotation.set(Math.PI/2,0,0),n.castShadow=!1,n.receiveShadow=!0,e.add(n);return e.add(new L.GridHelper(1200,60,6316128,6316128)),e}},{key:"createCubes",value:function(){this.cubes=function(){for(var e=[],t=0;t<8;t++)for(var r=0;r<8;r++)for(var a=0;a<8;a++){var n=F(t,r,a),o=U(t,r,a),i=Object(u.a)(o,3),s=i[0],c=i[1],l=i[2],h=A(3,n,s,c,l);h.userData.RGB={color:n,position:[s,c,l]},e.push(h)}return e.sort(_),e}(),function(e){for(var t=[],r=0;r<=7;r++)for(var a=r/7*100,n=0;n<=r;n++)for(var o=n/7*100,i=Math.max(6*n,1),s=0;s<i;s++){var c=360/i*s,l=N(c,o,a),h=Y(c,o,a),d=Object(u.a)(h,3),f=d[0],p=d[1],v=d[2];t.push({color:l,position:[f,p,v]})}t.sort(X);for(var m=0;m<e.length;m++){e[m].userData.HSV=t[m]}}(this.cubes);var e=!0,t=!1,r=void 0;try{for(var a,n=this.cubes[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var o=a.value;this.scene.add(o)}}catch(i){t=!0,r=i}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}this.selectedCube=this.cubes.slice(-1)[0]}},{key:"highlightCubes",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.cubes[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){a.value.material.opacity=.2}}catch(o){t=!0,r=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}this.selectedCube.material.opacity=1}},{key:"unhighlightCubes",value:function(){var e=!0,t=!1,r=void 0;try{for(var a,n=this.cubes[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){a.value.material.opacity=1}}catch(o){t=!0,r=o}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}}},{key:"makeOrbitControls",value:function(e,t){var r=new T.a(e,t);return r.target=Object(E.a)(L.Vector3,Object(R.a)(this.attrs.cameraLookAt)),r.enableDamping=!0,r.dampingFactor=.1,r}},{key:"makeEventStart",value:function(){var e=this;return function(t){e.evtCoords=J(t)}}},{key:"makeEventEnd",value:function(e,t){var r=this;return function(a){var n=J(a);if(n.x===r.evtCoords.x&&n.y===r.evtCoords.y){var o=function(e,t,r){var a=new L.Raycaster;e.preventDefault();var n=J(e);a.setFromCamera(n,r);var o=t.children,i=a.intersectObjects(o);if(i.length>0){var s=i[0].object;if("COLOR_CUBE"===s.name)return s}return null}(a,e,t);if(o){r.selectedCube.rotation.set(0,0,0),r.selectedCube=o,r.currentSpin=1;var i=r.selectedCube.material.color.getHexString();r.highlightCubes(),r.props.onSelectColor("#".concat(i))}}}}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.model!==e.model&&this.updateCubes(e.model),this.props.previewing!==e.previewing&&(e.previewing?this.highlightCubes():this.unhighlightCubes()),!1}},{key:"updateCubes",value:function(e){var t=!0,r=!1,a=void 0;try{for(var n,o=this.cubes[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){var i,s=n.value,c=s.userData[e];(i=s.position).set.apply(i,Object(R.a)(c.position)),s.material.color.setHex(c.color)}}catch(l){r=!0,a=l}finally{try{t||null==o.return||o.return()}finally{if(r)throw a}}}},{key:"render",value:function(){return n.a.createElement("div",{ref:this.divRef})}}]),t}(n.a.Component),z=function(e){var t=j(),r=Object(a.useState)("RGB"),o=Object(u.a)(r,2),i=o[0],s=o[1],c=Object(a.useState)("#ffffff"),l=Object(u.a)(c,2),p=l[0],v=l[1],m=Object(a.useState)(!1),b=Object(u.a)(m,2),g=b[0],y=b[1],w=function(e){return i===e?"contained":"outlined"};return n.a.createElement("div",{className:t.wrapper},n.a.createElement(h.a,{maxWidth:"md",className:t.container},n.a.createElement("div",{className:t.header},n.a.createElement("img",{className:t.logo,src:"logo_20_02.png",alt:"logo"})),n.a.createElement(q,{model:i,previewing:g,onSelectColor:function(e){v(e)}}),n.a.createElement("div",{className:t.controlButtons},n.a.createElement(d.a,{className:t.colorPreview,style:{backgroundColor:p,color:I(p)},onClick:function(){y(!g)},"aria-label":"color preview"},p),n.a.createElement(f.a,{className:t.buttons,orientation:"vertical",color:"secondary","aria-label":"vertical outlined primary button group"},n.a.createElement(d.a,{variant:w("RGB"),onClick:function(e){s("RGB")}},"RGB"),n.a.createElement(d.a,{variant:w("HSV"),onClick:function(e){s("HSV")}},"HSV")))))},K=r(35),Q=r(36),Z=r(47),$=Object(Z.a)({palette:{primary:K.a,secondary:Q.a,background:{default:"#fff"}}});i.a.render(n.a.createElement(l.a,{theme:$},n.a.createElement(s.a,null),n.a.createElement(z,null)),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.05880a36.chunk.js.map